/* --- EVENT LIST --- */
@import './../../styles/settings/settings';
@import './../../styles/tools/mixins';

@import './../../styles/components/animations';

.event {
  @include box-display;
  float: left;
  height: calc(100vh - 70px);
  position: relative;
  text-align: center;
  width: 100%;

  &--content {
    @include box-display;
    list-style: none;
    margin: 0;
    padding: 0;
    width: 100%;

    &--item {
      @include box-display;
      float: left;
      position: relative;
      top: 50%;
      transform: translateY(-50%);
      width: 50%;
    }

    .slider {
      width: 100%;

      &--container {
        height: 480px;
        float: none;
        width: calc(100% - 195px);
      }

      &--controls {
        &[data-type="2"] {
          padding: 0;
        }
      }

      &--item {
        height: 100%;
        opacity: 0;
        position: absolute;
        transition: all 450ms cubic-bezier(0.165, 0.84, 0.44, 1);

        &[data-active="true"] {
          width: 650px;

          & + .slider--item {
            display: inline-block;
            opacity: 0.7;
            width: 230px;
            
            .event {
              &--item {
                width: 230px;

                &--image {
                  &:after {
                    @include box-display;
                    content: '';
                    background-color: rgba($black-900, 0.5);
                    height: 100%;
                    left: 0;
                    position: absolute;
                    top: 0;
                    width: 100%;
                    z-index: 10;
                  }
                }

                &--info {
                  height: 100%;
                  left: 0;
                  padding: 20px 15px;
                  position: absolute;
                  top: 0;
                  width: 100%;
                  z-index: 10;
                  
                  .attributes,
                  .description {
                    display: none;
                  }

                  .country {
                    bottom: 0;
                    left: 0;
                  }

                  .title {
                    .address,
                    .date {
                      display: none;
                    }

                    .name {
                      @include rem('font-size', 18px);
                      color: $white-900;
                    }
                  }
                }
              }
            }
          }
        }
      }

      &[data-direction="next"] {
        .slider {
          &--item {
            opacity: 0;

            &[data-active="true"] {
              animation: event-next 450ms cubic-bezier(0.215, 0.610, 0.355, 1.000) 0ms forwards;

              & + .slider--item {
                animation: event-next-sibling 450ms cubic-bezier(0.215, 0.610, 0.355, 1.000) 150ms forwards;
              }
            }
          }
        }
      }

      &[data-direction="prev"] {
        .slider {
          &--item {
            opacity: 0;

            &[data-active="true"] {
              animation: event-prev 450ms cubic-bezier(0.215, 0.610, 0.355, 1.000) 150ms forwards;

              & + .slider--item {
                animation: event-prev-sibling 450ms cubic-bezier(0.215, 0.610, 0.355, 1.000) 0ms forwards;
              }
            }
          }
        }
      }
    }
  }

  > .wrapper {
    align-items: center;
    display: inline-flex;
    justify-content: center;
    flex-flow: row nowrap;
  }
}

/* --- QUERIES --- */

/* Small Devices, Tablets */
@media only screen and (max-width : 768px) {
  .event {
    &--content {
      .slider {
        &--container {
          width: calc(100% - 215px);
        }
      }
    }
  }
}

/* Extra Small Devices, Phones */ 
@media only screen and (max-width : 480px) {
  .event {
    &--content {
      .slider {
        &--container {
          display: inline-block;
          height: auto;
          padding: 0 15px;
          width: 100%;
        }

        &--item,
        &--item[data-active="true"] {
          position: relative;
          width: 100%;
        }

        &--controls {
          width: 100%;

          &[data-type="2"] {
            padding: 0 20px;

            .slider-controls {
              &--item {
                display: inline-block;
                position: relative;
                width: 100%;

                .control {
                  .date {
                    @include box-display;
                    display: block;
                    position: relative;
                    width: auto;

                    .day,
                    .month {
                      @include box-display;
                      float: left;
                      position: relative;
                    }
                  }

                  .btn {
                    &:before {
                      animation: none;
                      width: 20px;
                    }

                    &.prev {
                      &:before {
                        left: -20px;
                        right: initial;
                      }
                    }
                  }
                }
              }
            }
          }
        }

        &[data-direction="prev"],
        &[data-direction="next"] {
          .slider {
            &--item {
              &[data-active="true"] {
                & + .slider--item {
                  display: none;
                }
              }
            }
          }
        }
      }
    }

    &--item {
      margin: 20px 0 0;
      
      &--image {
        align-items: center;
        display: inline-flex;
        justify-content: center;
        max-height: 200px;
        width: 100%;
        
        img {
          height: auto;
          width: 100%;
        }
      }
      
      &--info {
        padding: 30px 15px;

        .country {
          left: 0;
          top: -40px;
        }

        width: 100%;
      }
    }
  }
}